name: CI - Compile

on:
  push:
    branches: [ kirkstone, develop ]

jobs:
  build-yocto:
    runs-on: [self-hosted, linux, x64, yocto]
    steps:
    - name: Build Yocto Rootfs
      run:  |
        repo init -u https://github.com/jsrc27/commontorizon-manifest.git -b develop -m torizoncore/common.xml
        repo sync
        source setup-environment MACHINE=qemux86-64.inc
        bitbake torizon-core-docker
